unit ueSearchCompany;

interface

uses
  umSearchCompany;

type
  TmveSearchCompany = class
    Model: TmSearchCompany;
    constructor Create(Model: TmSearchCompany);
    procedure Show(Sender: TObject);
    procedure Close(Sender: TObject);
    procedure Search(Sender: TObject);
    procedure FillResult(Sender: TObject);
  end;

implementation

uses
  uvSearchCompany,
  uDataResource,
  ComCtrls,
  SysUtils;

{ TmveSearchCompany }

procedure TmveSearchCompany.Close(Sender: TObject);
begin
  frmSearchCompany.Close;
end;

constructor TmveSearchCompany.Create(Model: TmSearchCompany);
begin
  Self.Model := Model;
end;

procedure TmveSearchCompany.FillResult(Sender: TObject);
var
  item: TListItem;
  Company: TmCompany;
begin
  for Company in Model.FindList do
  begin
    item := frmSearchCompany.lvCompanyList.Items.Add;
    item.Caption := intTostr(Company.id);
    item.SubItems.Add(Company.name);
  end;
end;

procedure TmveSearchCompany.Search(Sender: TObject);
begin

end;

procedure TmveSearchCompany.Show(Sender: TObject);
begin
  frmSearchCompany.Show;
end;

end.


